
# Lab 08: ESP32: Getting Started with Firebase (Realtime Database)
This guide will get you started quickly with Firebase using the ESP32 board. Firebase is Google‚Äôs mobile application development platform that includes many services to manage data from IOS, Android, or web applications. You‚Äôll create a Firebase project with a realtime database (RTDB), and you‚Äôll learn how to store and read values from the database with your ESP32.

## Set Up a Firebase Account and Create a New Project

### 1.Create a New Project

Follow the next instructions to create a new project on Firebase.

1.  Go to  [Firebase](https://firebase.google.com/) and sign in using a Google Account.
2.  Go to the  [Firebase Console](https://console.firebase.google.com/)  and create a new project.
3.  Give a name to your project, for example:  _ESP-Project,_  and click  **Continue**.  
    
    ![Set Up Firebase Project for ESP32 and ESP8266 Step 1](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/1-create-firebase-project.png?w=828&quality=100&strip=all&ssl=1)
    
4.  Next, enable or disable AI assistance for your project. This is optional.  
    
    ![Set Up Firebase Project for ESP32 and ESP8266 - Enable AI assistant](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/2-create-firebase-project-ai-assistance.png?w=828&quality=100&strip=all&ssl=1)
    
5.  Disable the option  _Enable Google Analytics_  for this project, as it is not needed. Then, click  **Create project**.  
    
    ![Disable Google Analytics for firebase project](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/3-create-firebase-project.png?w=828&quality=100&strip=all&ssl=1)
    
6.  It will take a few seconds to set up your project. Click  **Continue** when it‚Äôs ready.  
    
    ![Firebase Project for ESP32 Ready](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/5-Firebase-project-ready.png?w=828&quality=100&strip=all&ssl=1)
    
      
    
7.  You‚Äôll be redirected to your Project console page.  
    
    ![Firebase console project](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/6-Firebase-console-ESP-project.png?w=828&quality=100&strip=all&ssl=1)
    

### 2. Set Authentication Methods

You need to set authentication methods for your app.

‚ÄúMost apps need to know the identity of a user. In other words, it takes care of logging in and identifying the users (in this case, the ESP32). Knowing a user‚Äôs identity allows an app to securely save user data in the cloud ‚Ä¶‚Äù To learn more about the authentication methods, you can  [read the documentation](https://firebase.google.com/docs/auth).

1.  On the left sidebar, click on  **Build** >  **Authentication** and then on  **Get started**.  
    
    ![Firebase project set authentication](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/7-set-authentication.png?w=828&quality=100&strip=all&ssl=1)
    
2.  There are several authentication methods like email and password, Google Account, Facebook account, and others.
    
    ![SFirebase authentication methods](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/8-Firebase-authentication-methods.png?w=828&quality=100&strip=all&ssl=1)
    
3.  Select  **Email/Password**  and  **enable** that authentication method. Then, click  **Save**.
    
    ![Enable Email Password Sign in Firebase](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/9-enable-email-password-firebase.png?w=828&quality=100&strip=all&ssl=1)
    
4.  Then, at the top, click on the  **Users** tab. Then, click on  **Add user**.
    
    ![Firebase Create a new user](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/10-add-user-email-password-firebase.png?w=828&quality=100&strip=all&ssl=1)
    
5.  Create a new user with an email and password. The email can be your personal email. Create a password for that user (you need to remember the password later). Finally, click on  **Add user**.
    
    ![Firebase add user email and password](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/11-add-user-email-pass.png?w=828&quality=100&strip=all&ssl=1)
    
6.  The User will show up on the list of users. You can see information about the user, like when it was created, the last time it signed in, and its user UID.
    
    ![Firebase User Created](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/12-user-created-firebase.png?w=828&quality=100&strip=all&ssl=1)
    

### 3. Creating a Realtime Database

Next, you need to create a Realtime Database for your project. Follow the next steps to create the database.

1.  On the left sidebar click on  **Build** >  **Realtime Database**  and then, click on  **Create Database**.  
    
    ![Firebase Project Create Database](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/13-create-database-firebase.png?w=828&quality=100&strip=all&ssl=1)
    
2.  Select your database location. It should be the closest to your location.  
    
    ![Firebase Realtime Database Set up location](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/14-database-location-firebase.png?w=828&quality=100&strip=all&ssl=1)
    
3.  Set up security rules for your database. For testing purposes, select  **Start in test mode**. In later tutorials, you‚Äôll learn how to secure your database using database rules.  
    
    ![Firebase Realtime Database Start in Test Mode](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/15-database-start-test-mode-firebase.png?w=828&quality=100&strip=all&ssl=1)
    
4.  Your database is now created. You need to copy and save the database URL‚Äîhighlighted in the following image‚Äîbecause you‚Äôll need it later in your ESP32 code.  
    
    ![Firebase Real time database URL](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/16-firebase-database-url.png?w=828&quality=100&strip=all&ssl=1)
    

The Realtime Database is all set. Now, you also need to get your project API key.

### 4. Get Project API Key

1.  To get your project‚Äôs API key, on the left sidebar click on  **Project Settings**.  
    
    ![Firebase Realtime Database Project Settings](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/17-project-settings-firebase.png?w=828&quality=100&strip=all&ssl=1)
    
2.  Copy the API Key to a safe place because you‚Äôll need it later.  
    
    ![Firebase Project API Key](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2025/04/18-project-api-key-firebase.png?w=828&quality=100&strip=all&ssl=1)
    

Now, you have everything ready to interface the ESP32 with the database.

## Program the ESP32 to Interface with Firebase

Now that the Firebase Realtime Database is created, you‚Äôll learn how to interface the ESP32 with the database.

To program the ESP32, you can use  [Arduino IDE](https://randomnerdtutorials.com/installing-esp32-arduino-ide-2-0/),  [VS Code with the PlatformIO extension](https://randomnerdtutorials.com/vs-code-platformio-ide-esp32-esp8266-arduino/)  or pioarduino, or other suitable software.

**Note:** For Firebase projects, we recommend using VS Code with the PlatformIO or pioarduino extension. If you plan to develop a web application to connect the ESP32 with Firebase, VS Code offers all the tools you need. However, since we won‚Äôt be building a web application in this tutorial, you can simply use the Arduino IDE, if you prefer.

### Installing the FirebaseClient Library

There is a library with lots of examples to use Firebase with the ESP32: the  [FirebaseClient library](https://github.com/mobizt/FirebaseClient). This library is compatible with the ESP32, ESP8266, and many other boards.

In this tutorial, we‚Äôll look at simple examples to store and read data from the database. The library provides many other examples that you can check  [here](https://github.com/mobizt/FirebaseClient). It also provides detailed documentation explaining how to use the library.

#### Installation ‚Äì VS Code + PlatformIO

If you‚Äôre using VS Code with the PlatformIO extension, click on the  **PIO Home**  icon and then select the  **Libraries tab**. Search for ‚Äú**FirebaseClient**‚Äú. Select the  **Firebase Client Library**  by Mobitz.

![Install FirebaseClient Library VS Code](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2021/09/Install-FirebsaeClient-Library-VS-Code.jpg?resize=750%2C646&quality=100&strip=all&ssl=1)

Then, click  **Add to Project**  and select the project you‚Äôre working on.

![Add FirebaseClient Library ro project in VS Code](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2021/09/Add-FirebaseClient-library-to-project-VS-Code.jpg?resize=750%2C341&quality=100&strip=all&ssl=1)

Also, change the monitor speed to 115200 by adding the following line to the  platformio.ini  file of your project:

```c
monitor_speed = 115200
```

#### Installation ‚Äì Arduino IDE

If you‚Äôre using Arduino IDE, follow the next steps to install the library.

1.  Go to  **Sketch** >  **Include Library**  >  **Manage Libraries**
2.  Search for  **FirebaseClient**  and install the  **FirebaseClient**  by Mobitz. We‚Äôre using version 2.0.3.

![Install Firebase Client Library Arduino IDE](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2021/09/install-Firebase-client-arduino-ide.png?resize=790%2C586&quality=100&strip=all&ssl=1)

Now, you‚Äôre all set to start programming the ESP32 board to interact with the database.

## ESP32 Store Data to Firebase Database
Copy the following code to your Arduino IDE. This sketch inserts an int, a float number, and a string into the database every 10 seconds. This is a simple example that shows how to connect the ESP32 to the database to store data.
```c
#define ENABLE_USER_AUTH
#define ENABLE_DATABASE

#include <Arduino.h>
#include <WiFi.h>
#include <WiFiClientSecure.h>
#include <FirebaseClient.h>

// Network and Firebase credentials
#define WIFI_SSID "REPLACE_WITH_YOUR_SSID"
#define WIFI_PASSWORD "REPLACE_WITH_YOUR_PASSWORD"

#define Web_API_KEY "REPLACE_WITH_YOUR_FIREBASE_PROJECT_API_KEY"
#define DATABASE_URL "REPLACE_WITH_YOUR_FIREBASE_DATABASE_URL"
#define USER_EMAIL "REPLACE_WITH_FIREBASE_PROJECT_EMAIL_USER"
#define USER_PASS "REPLACE_WITH_FIREBASE_PROJECT_USER_PASS"

// User function
void processData(AsyncResult &aResult);

// Authentication
UserAuth user_auth(Web_API_KEY, USER_EMAIL, USER_PASS);

// Firebase components
FirebaseApp app;
WiFiClientSecure ssl_client;
using AsyncClient = AsyncClientClass;
AsyncClient aClient(ssl_client);
RealtimeDatabase Database;

// Timer variables for sending data every 10 seconds
unsigned long lastSendTime = 0;
const unsigned long sendInterval = 10000; // 10 seconds in milliseconds

// Variables to send to the database
int intValue = 0;
float floatValue = 0.01;
String stringValue = "";

void setup(){
  Serial.begin(115200);

  // Connect to Wi-Fi
  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
  Serial.print("Connecting to Wi-Fi");
  while (WiFi.status() != WL_CONNECTED) {
    Serial.print(".");
    delay(300);
  }
  Serial.println();
  
  // Configure SSL client
  ssl_client.setInsecure();
  ssl_client.setConnectionTimeout(1000);
  ssl_client.setHandshakeTimeout(5);
  
  // Initialize Firebase
  initializeApp(aClient, app, getAuth(user_auth), processData, "üîê authTask");
  app.getApp<RealtimeDatabase>(Database);
  Database.url(DATABASE_URL);
}

void loop(){
  // Maintain authentication and async tasks
  app.loop();
  // Check if authentication is ready
  if (app.ready()){ 
    // Periodic data sending every 10 seconds
    unsigned long currentTime = millis();
    if (currentTime - lastSendTime >= sendInterval){
      // Update the last send time
      lastSendTime = currentTime;
      
      // send a string
      stringValue = "value_" + String(currentTime);
      Database.set<String>(aClient, "/test/string", stringValue, processData, "RTDB_Send_String");
      // send an int
      Database.set<int>(aClient, "/test/int", intValue, processData, "RTDB_Send_Int");
      intValue++; //increment intValue in every loop

      // send a string
      floatValue = 0.01 + random (0,100);
      Database.set<float>(aClient, "/test/float", floatValue, processData, "RTDB_Send_Float");
    }
  }
}

void processData(AsyncResult &aResult) {
  if (!aResult.isResult())
    return;

  if (aResult.isEvent())
    Firebase.printf("Event task: %s, msg: %s, code: %d\n", aResult.uid().c_str(), aResult.eventLog().message().c_str(), aResult.eventLog().code());

  if (aResult.isDebug())
    Firebase.printf("Debug task: %s, msg: %s\n", aResult.uid().c_str(), aResult.debug().c_str());

  if (aResult.isError())
    Firebase.printf("Error task: %s, msg: %s, code: %d\n", aResult.uid().c_str(), aResult.error().message().c_str(), aResult.error().code());

  if (aResult.available())
    Firebase.printf("task: %s, payload: %s\n", aResult.uid().c_str(), aResult.c_str());
}

```

[View raw code](https://github.com/RuiSantosdotme/Firebase-ESP/raw/main/ESP32-Firebase-Send-RTDB/ESP32-Firebase-Send-RTDB.ino)

You need to insert your network credentials, URL database, project API key, firebase user email and password.

### Demonstration

Upload the code to your ESP32 board. Don‚Äôt forget to insert your network credentials, database URL path, the project API key, and the Firebase project user email and password.

After uploading the code, open the Serial Monitor at a baud rate of 115200 and press the ESP32 on-board reset button so it starts running the code.

If everything works as expected, the values should be stored in the database, and you should get success messages.

![ESP32 Send Data to the Realtime Database Firebase - Serial Monitor Demonstration](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2021/09/ESP32-Send-to-Firebase-Database-Serial-Monitor.png?resize=693%2C373&quality=100&strip=all&ssl=1)

Go to your project‚Äôs Firebase Realtime database, and you‚Äôll see the values saved on the different node paths. Every 10 seconds, it saves a new value. The database blinks when new values are saved.

![ESP32 Store value firebase database Success](https://i0.wp.com/randomnerdtutorials.com/wp-content/uploads/2021/09/RealTimeDatabase-Firebase-Data-Sent-From-ESP.png?resize=760%2C357&quality=100&strip=all&ssl=1)

Congratulations! You‚Äôve successfully stored data in Firebase‚Äôs Realtime Database using the ESP32. In the next section, you‚Äôll learn to read values from the different database node paths.
